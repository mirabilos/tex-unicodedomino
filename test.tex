\documentclass{article}%

\usepackage[utf8]{inputenc}%
\usepackage[LY1,TS1,T1]{fontenc}%
\usepackage[varqu,varl]{inconsolata}%	for table example
\usepackage{listings}%			for table example
\usepackage{unicodedomino}%

\setlength{\parskip}{0.3cm plus 5mm minus 1mm}%
\setlength{\parindent}{0cm}%

\lstset{
	breakatwhitespace=true,
	basicstyle=\ttfamily,
	upquote=true,
	keepspaces,
	columns=flexible,
	extendedchars=true,
	breaklines=true,
	frame=single,
}%

\makeatletter%
\message{:expect 48:\decode@UTFviii0\relax:}%
\message{:expect 228:\decode@UTFviii ä\relax:}%
\message{:expect 8364:\decode@UTFviii €\relax:}%
\message{:expect 128169:\decode@UTFviii 💩\relax:}%
\edef\temp{\decode@UTFviii1\relax}%
\message{:detok=\expandafter\detokenize\expandafter{\temp}:\expandafter\detokenize\expandafter{\decode@UTFviii2\relax}:}%
\makeatother%

\begin{document}

\tableofcontents

\section{eins}

foo

U+009F 

U+05D0 א

U+3090 ゐ

U-0001F4A9 💩

U-0010FEDC 􏻜

bar

\section{zwe⡅}

bëh (expect 2845 in heading)

\section{drëi}

baz

\begin{lstlisting}
mäh mゐh m💩h miau
\end{lstlisting}

\end{document}
